"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/analytics/visit/route";
exports.ids = ["app/api/analytics/visit/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Fvisit%2Froute&page=%2Fapi%2Fanalytics%2Fvisit%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Fvisit%2Froute.js&appDir=%2Fworkspaces%2FNexoSur%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2FNexoSur&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Fvisit%2Froute&page=%2Fapi%2Fanalytics%2Fvisit%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Fvisit%2Froute.js&appDir=%2Fworkspaces%2FNexoSur%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2FNexoSur&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _workspaces_NexoSur_app_api_analytics_visit_route_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/analytics/visit/route.js */ \"(rsc)/./app/api/analytics/visit/route.js\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/analytics/visit/route\",\n        pathname: \"/api/analytics/visit\",\n        filename: \"route\",\n        bundlePath: \"app/api/analytics/visit/route\"\n    },\n    resolvedPagePath: \"/workspaces/NexoSur/app/api/analytics/visit/route.js\",\n    nextConfigOutput,\n    userland: _workspaces_NexoSur_app_api_analytics_visit_route_js__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/analytics/visit/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhbmFseXRpY3MlMkZ2aXNpdCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYW5hbHl0aWNzJTJGdmlzaXQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhbmFseXRpY3MlMkZ2aXNpdCUyRnJvdXRlLmpzJmFwcERpcj0lMkZ3b3Jrc3BhY2VzJTJGTmV4b1N1ciUyRmFwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9JTJGd29ya3NwYWNlcyUyRk5leG9TdXImaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ0k7QUFDakY7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXhvc3VyLz8wNDdjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi93b3Jrc3BhY2VzL05leG9TdXIvYXBwL2FwaS9hbmFseXRpY3MvdmlzaXQvcm91dGUuanNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2FuYWx5dGljcy92aXNpdC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2FuYWx5dGljcy92aXNpdFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvYW5hbHl0aWNzL3Zpc2l0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL3dvcmtzcGFjZXMvTmV4b1N1ci9hcHAvYXBpL2FuYWx5dGljcy92aXNpdC9yb3V0ZS5qc1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvYW5hbHl0aWNzL3Zpc2l0L3JvdXRlXCI7XG5mdW5jdGlvbiBwYXRjaEZldGNoKCkge1xuICAgIHJldHVybiBfcGF0Y2hGZXRjaCh7XG4gICAgICAgIHNlcnZlckhvb2tzLFxuICAgICAgICBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlXG4gICAgfSk7XG59XG5leHBvcnQgeyByb3V0ZU1vZHVsZSwgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIG9yaWdpbmFsUGF0aG5hbWUsIHBhdGNoRmV0Y2gsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Fvisit%2Froute&page=%2Fapi%2Fanalytics%2Fvisit%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Fvisit%2Froute.js&appDir=%2Fworkspaces%2FNexoSur%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2FNexoSur&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/analytics/visit/route.js":
/*!******************************************!*\
  !*** ./app/api/analytics/visit/route.js ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_analytics__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/analytics */ \"(rsc)/./lib/analytics.js\");\n\n\nasync function POST(request) {\n    const body = await request.json().catch(()=>({}));\n    const { artisanSlug, productId } = body || {};\n    if (!artisanSlug) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n        error: \"artisanSlug required\"\n    }, {\n        status: 400\n    });\n    if (productId) {\n        const count = await (0,_lib_analytics__WEBPACK_IMPORTED_MODULE_1__.incrementProductVisit)(artisanSlug, productId);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true,\n            type: \"product\",\n            count\n        });\n    } else {\n        const count = await (0,_lib_analytics__WEBPACK_IMPORTED_MODULE_1__.incrementArtisanVisit)(artisanSlug);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true,\n            type: \"artisan\",\n            count\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2FuYWx5dGljcy92aXNpdC9yb3V0ZS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBMkM7QUFDb0M7QUFFeEUsZUFBZUcsS0FBS0MsT0FBTztJQUNoQyxNQUFNQyxPQUFPLE1BQU1ELFFBQVFFLElBQUksR0FBR0MsS0FBSyxDQUFDLElBQU8sRUFBQztJQUNoRCxNQUFNLEVBQUVDLFdBQVcsRUFBRUMsU0FBUyxFQUFFLEdBQUdKLFFBQVEsQ0FBQztJQUM1QyxJQUFJLENBQUNHLGFBQWEsT0FBT1IscURBQVlBLENBQUNNLElBQUksQ0FBQztRQUFFSSxPQUFPO0lBQXVCLEdBQUc7UUFBRUMsUUFBUTtJQUFJO0lBQzVGLElBQUlGLFdBQVc7UUFDYixNQUFNRyxRQUFRLE1BQU1WLHFFQUFxQkEsQ0FBQ00sYUFBYUM7UUFDdkQsT0FBT1QscURBQVlBLENBQUNNLElBQUksQ0FBQztZQUFFTyxJQUFJO1lBQU1DLE1BQU07WUFBV0Y7UUFBTTtJQUM5RCxPQUFPO1FBQ0wsTUFBTUEsUUFBUSxNQUFNWCxxRUFBcUJBLENBQUNPO1FBQzFDLE9BQU9SLHFEQUFZQSxDQUFDTSxJQUFJLENBQUM7WUFBRU8sSUFBSTtZQUFNQyxNQUFNO1lBQVdGO1FBQU07SUFDOUQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL25leG9zdXIvLi9hcHAvYXBpL2FuYWx5dGljcy92aXNpdC9yb3V0ZS5qcz9iNGMyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJztcbmltcG9ydCB7IGluY3JlbWVudEFydGlzYW5WaXNpdCwgaW5jcmVtZW50UHJvZHVjdFZpc2l0IH0gZnJvbSAnQC9saWIvYW5hbHl0aWNzJztcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdCkge1xuICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCkuY2F0Y2goKCkgPT4gKHt9KSk7XG4gIGNvbnN0IHsgYXJ0aXNhblNsdWcsIHByb2R1Y3RJZCB9ID0gYm9keSB8fCB7fTtcbiAgaWYgKCFhcnRpc2FuU2x1ZykgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdhcnRpc2FuU2x1ZyByZXF1aXJlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KTtcbiAgaWYgKHByb2R1Y3RJZCkge1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgaW5jcmVtZW50UHJvZHVjdFZpc2l0KGFydGlzYW5TbHVnLCBwcm9kdWN0SWQpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiB0cnVlLCB0eXBlOiAncHJvZHVjdCcsIGNvdW50IH0pO1xuICB9IGVsc2Uge1xuICAgIGNvbnN0IGNvdW50ID0gYXdhaXQgaW5jcmVtZW50QXJ0aXNhblZpc2l0KGFydGlzYW5TbHVnKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBvazogdHJ1ZSwgdHlwZTogJ2FydGlzYW4nLCBjb3VudCB9KTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImluY3JlbWVudEFydGlzYW5WaXNpdCIsImluY3JlbWVudFByb2R1Y3RWaXNpdCIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJjYXRjaCIsImFydGlzYW5TbHVnIiwicHJvZHVjdElkIiwiZXJyb3IiLCJzdGF0dXMiLCJjb3VudCIsIm9rIiwidHlwZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/analytics/visit/route.js\n");

/***/ }),

/***/ "(rsc)/./lib/analytics.js":
/*!**************************!*\
  !*** ./lib/analytics.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getAnalytics: () => (/* binding */ getAnalytics),\n/* harmony export */   getArtisanStats: () => (/* binding */ getArtisanStats),\n/* harmony export */   incrementArtisanVisit: () => (/* binding */ incrementArtisanVisit),\n/* harmony export */   incrementProductVisit: () => (/* binding */ incrementProductVisit)\n/* harmony export */ });\n/* harmony import */ var _store__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./store */ \"(rsc)/./lib/store.js\");\n\nconst FILE = \"analytics.json\";\nasync function getAnalytics() {\n    const data = await (0,_store__WEBPACK_IMPORTED_MODULE_0__.readJSON)(FILE, {\n        artisanVisits: {},\n        productVisits: {}\n    });\n    data.artisanVisits ||= {};\n    data.productVisits ||= {};\n    return data;\n}\nasync function incrementArtisanVisit(slug) {\n    const data = await getAnalytics();\n    data.artisanVisits[slug] = (data.artisanVisits[slug] || 0) + 1;\n    await (0,_store__WEBPACK_IMPORTED_MODULE_0__.writeJSON)(FILE, data);\n    return data.artisanVisits[slug];\n}\nasync function incrementProductVisit(slug, productId) {\n    const data = await getAnalytics();\n    data.productVisits[slug] ||= {};\n    data.productVisits[slug][productId] = (data.productVisits[slug][productId] || 0) + 1;\n    await (0,_store__WEBPACK_IMPORTED_MODULE_0__.writeJSON)(FILE, data);\n    return data.productVisits[slug][productId];\n}\nasync function getArtisanStats(slug) {\n    const data = await getAnalytics();\n    const artisan = data.artisanVisits[slug] || 0;\n    const products = data.productVisits[slug] || {};\n    const totalProductVisits = Object.values(products).reduce((a, b)=>a + b, 0);\n    const top = Object.entries(products).map(([id, cnt])=>({\n            id,\n            count: cnt\n        })).sort((a, b)=>b.count - a.count).slice(0, 10);\n    return {\n        artisanVisits: artisan,\n        totalProductVisits,\n        topProducts: top\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYW5hbHl0aWNzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQThDO0FBRTlDLE1BQU1FLE9BQU87QUFFTixlQUFlQztJQUNwQixNQUFNQyxPQUFPLE1BQU1KLGdEQUFRQSxDQUFDRSxNQUFNO1FBQUVHLGVBQWUsQ0FBQztRQUFHQyxlQUFlLENBQUM7SUFBRTtJQUN6RUYsS0FBS0MsYUFBYSxLQUFLLENBQUM7SUFDeEJELEtBQUtFLGFBQWEsS0FBSyxDQUFDO0lBQ3hCLE9BQU9GO0FBQ1Q7QUFFTyxlQUFlRyxzQkFBc0JDLElBQUk7SUFDOUMsTUFBTUosT0FBTyxNQUFNRDtJQUNuQkMsS0FBS0MsYUFBYSxDQUFDRyxLQUFLLEdBQUcsQ0FBQ0osS0FBS0MsYUFBYSxDQUFDRyxLQUFLLElBQUksS0FBSztJQUM3RCxNQUFNUCxpREFBU0EsQ0FBQ0MsTUFBTUU7SUFDdEIsT0FBT0EsS0FBS0MsYUFBYSxDQUFDRyxLQUFLO0FBQ2pDO0FBRU8sZUFBZUMsc0JBQXNCRCxJQUFJLEVBQUVFLFNBQVM7SUFDekQsTUFBTU4sT0FBTyxNQUFNRDtJQUNuQkMsS0FBS0UsYUFBYSxDQUFDRSxLQUFLLEtBQUssQ0FBQztJQUM5QkosS0FBS0UsYUFBYSxDQUFDRSxLQUFLLENBQUNFLFVBQVUsR0FBRyxDQUFDTixLQUFLRSxhQUFhLENBQUNFLEtBQUssQ0FBQ0UsVUFBVSxJQUFJLEtBQUs7SUFDbkYsTUFBTVQsaURBQVNBLENBQUNDLE1BQU1FO0lBQ3RCLE9BQU9BLEtBQUtFLGFBQWEsQ0FBQ0UsS0FBSyxDQUFDRSxVQUFVO0FBQzVDO0FBRU8sZUFBZUMsZ0JBQWdCSCxJQUFJO0lBQ3hDLE1BQU1KLE9BQU8sTUFBTUQ7SUFDbkIsTUFBTVMsVUFBVVIsS0FBS0MsYUFBYSxDQUFDRyxLQUFLLElBQUk7SUFDNUMsTUFBTUssV0FBV1QsS0FBS0UsYUFBYSxDQUFDRSxLQUFLLElBQUksQ0FBQztJQUM5QyxNQUFNTSxxQkFBcUJDLE9BQU9DLE1BQU0sQ0FBQ0gsVUFBVUksTUFBTSxDQUFDLENBQUNDLEdBQUdDLElBQU1ELElBQUlDLEdBQUc7SUFDM0UsTUFBTUMsTUFBTUwsT0FBT00sT0FBTyxDQUFDUixVQUN4QlMsR0FBRyxDQUFDLENBQUMsQ0FBQ0MsSUFBSUMsSUFBSSxHQUFNO1lBQUVEO1lBQUlFLE9BQU9EO1FBQUksSUFDckNFLElBQUksQ0FBQyxDQUFDUixHQUFHQyxJQUFNQSxFQUFFTSxLQUFLLEdBQUdQLEVBQUVPLEtBQUssRUFDaENFLEtBQUssQ0FBQyxHQUFHO0lBQ1osT0FBTztRQUFFdEIsZUFBZU87UUFBU0U7UUFBb0JjLGFBQWFSO0lBQUk7QUFDeEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXhvc3VyLy4vbGliL2FuYWx5dGljcy5qcz80Y2RiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlYWRKU09OLCB3cml0ZUpTT04gfSBmcm9tICcuL3N0b3JlJztcblxuY29uc3QgRklMRSA9ICdhbmFseXRpY3MuanNvbic7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRBbmFseXRpY3MoKSB7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCByZWFkSlNPTihGSUxFLCB7IGFydGlzYW5WaXNpdHM6IHt9LCBwcm9kdWN0VmlzaXRzOiB7fSB9KTtcbiAgZGF0YS5hcnRpc2FuVmlzaXRzIHx8PSB7fTtcbiAgZGF0YS5wcm9kdWN0VmlzaXRzIHx8PSB7fTtcbiAgcmV0dXJuIGRhdGE7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbmNyZW1lbnRBcnRpc2FuVmlzaXQoc2x1Zykge1xuICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0QW5hbHl0aWNzKCk7XG4gIGRhdGEuYXJ0aXNhblZpc2l0c1tzbHVnXSA9IChkYXRhLmFydGlzYW5WaXNpdHNbc2x1Z10gfHwgMCkgKyAxO1xuICBhd2FpdCB3cml0ZUpTT04oRklMRSwgZGF0YSk7XG4gIHJldHVybiBkYXRhLmFydGlzYW5WaXNpdHNbc2x1Z107XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbmNyZW1lbnRQcm9kdWN0VmlzaXQoc2x1ZywgcHJvZHVjdElkKSB7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRBbmFseXRpY3MoKTtcbiAgZGF0YS5wcm9kdWN0VmlzaXRzW3NsdWddIHx8PSB7fTtcbiAgZGF0YS5wcm9kdWN0VmlzaXRzW3NsdWddW3Byb2R1Y3RJZF0gPSAoZGF0YS5wcm9kdWN0VmlzaXRzW3NsdWddW3Byb2R1Y3RJZF0gfHwgMCkgKyAxO1xuICBhd2FpdCB3cml0ZUpTT04oRklMRSwgZGF0YSk7XG4gIHJldHVybiBkYXRhLnByb2R1Y3RWaXNpdHNbc2x1Z11bcHJvZHVjdElkXTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFydGlzYW5TdGF0cyhzbHVnKSB7XG4gIGNvbnN0IGRhdGEgPSBhd2FpdCBnZXRBbmFseXRpY3MoKTtcbiAgY29uc3QgYXJ0aXNhbiA9IGRhdGEuYXJ0aXNhblZpc2l0c1tzbHVnXSB8fCAwO1xuICBjb25zdCBwcm9kdWN0cyA9IGRhdGEucHJvZHVjdFZpc2l0c1tzbHVnXSB8fCB7fTtcbiAgY29uc3QgdG90YWxQcm9kdWN0VmlzaXRzID0gT2JqZWN0LnZhbHVlcyhwcm9kdWN0cykucmVkdWNlKChhLCBiKSA9PiBhICsgYiwgMCk7XG4gIGNvbnN0IHRvcCA9IE9iamVjdC5lbnRyaWVzKHByb2R1Y3RzKVxuICAgIC5tYXAoKFtpZCwgY250XSkgPT4gKHsgaWQsIGNvdW50OiBjbnQgfSkpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuY291bnQgLSBhLmNvdW50KVxuICAgIC5zbGljZSgwLCAxMCk7XG4gIHJldHVybiB7IGFydGlzYW5WaXNpdHM6IGFydGlzYW4sIHRvdGFsUHJvZHVjdFZpc2l0cywgdG9wUHJvZHVjdHM6IHRvcCB9O1xufVxuIl0sIm5hbWVzIjpbInJlYWRKU09OIiwid3JpdGVKU09OIiwiRklMRSIsImdldEFuYWx5dGljcyIsImRhdGEiLCJhcnRpc2FuVmlzaXRzIiwicHJvZHVjdFZpc2l0cyIsImluY3JlbWVudEFydGlzYW5WaXNpdCIsInNsdWciLCJpbmNyZW1lbnRQcm9kdWN0VmlzaXQiLCJwcm9kdWN0SWQiLCJnZXRBcnRpc2FuU3RhdHMiLCJhcnRpc2FuIiwicHJvZHVjdHMiLCJ0b3RhbFByb2R1Y3RWaXNpdHMiLCJPYmplY3QiLCJ2YWx1ZXMiLCJyZWR1Y2UiLCJhIiwiYiIsInRvcCIsImVudHJpZXMiLCJtYXAiLCJpZCIsImNudCIsImNvdW50Iiwic29ydCIsInNsaWNlIiwidG9wUHJvZHVjdHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/analytics.js\n");

/***/ }),

/***/ "(rsc)/./lib/store.js":
/*!**********************!*\
  !*** ./lib/store.js ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   readJSON: () => (/* binding */ readJSON),\n/* harmony export */   writeJSON: () => (/* binding */ writeJSON)\n/* harmony export */ });\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nconst DATA_DIR = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"data\", \"store\");\nasync function ensureDir() {\n    await fs__WEBPACK_IMPORTED_MODULE_0__.promises.mkdir(DATA_DIR, {\n        recursive: true\n    });\n}\nasync function readJSON(file, fallback) {\n    await ensureDir();\n    const p = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, file);\n    try {\n        const data = await fs__WEBPACK_IMPORTED_MODULE_0__.promises.readFile(p, \"utf8\");\n        return JSON.parse(data);\n    } catch (e) {\n        return fallback;\n    }\n}\nasync function writeJSON(file, data) {\n    await ensureDir();\n    const p = path__WEBPACK_IMPORTED_MODULE_1___default().join(DATA_DIR, file);\n    await fs__WEBPACK_IMPORTED_MODULE_0__.promises.writeFile(p, JSON.stringify(data, null, 2), \"utf8\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvc3RvcmUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQW9DO0FBQ1o7QUFFeEIsTUFBTUcsV0FBV0QsZ0RBQVMsQ0FBQ0csUUFBUUMsR0FBRyxJQUFJLFFBQVE7QUFFbEQsZUFBZUM7SUFDYixNQUFNTix3Q0FBRUEsQ0FBQ08sS0FBSyxDQUFDTCxVQUFVO1FBQUVNLFdBQVc7SUFBSztBQUM3QztBQUVPLGVBQWVDLFNBQVNDLElBQUksRUFBRUMsUUFBUTtJQUMzQyxNQUFNTDtJQUNOLE1BQU1NLElBQUlYLGdEQUFTLENBQUNDLFVBQVVRO0lBQzlCLElBQUk7UUFDRixNQUFNRyxPQUFPLE1BQU1iLHdDQUFFQSxDQUFDYyxRQUFRLENBQUNGLEdBQUc7UUFDbEMsT0FBT0csS0FBS0MsS0FBSyxDQUFDSDtJQUNwQixFQUFFLE9BQU9JLEdBQUc7UUFDVixPQUFPTjtJQUNUO0FBQ0Y7QUFFTyxlQUFlTyxVQUFVUixJQUFJLEVBQUVHLElBQUk7SUFDeEMsTUFBTVA7SUFDTixNQUFNTSxJQUFJWCxnREFBUyxDQUFDQyxVQUFVUTtJQUM5QixNQUFNVix3Q0FBRUEsQ0FBQ21CLFNBQVMsQ0FBQ1AsR0FBR0csS0FBS0ssU0FBUyxDQUFDUCxNQUFNLE1BQU0sSUFBSTtBQUN2RCIsInNvdXJjZXMiOlsid2VicGFjazovL25leG9zdXIvLi9saWIvc3RvcmUuanM/MDRhZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm9taXNlcyBhcyBmcyB9IGZyb20gJ2ZzJztcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xuXG5jb25zdCBEQVRBX0RJUiA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAnZGF0YScsICdzdG9yZScpO1xuXG5hc3luYyBmdW5jdGlvbiBlbnN1cmVEaXIoKSB7XG4gIGF3YWl0IGZzLm1rZGlyKERBVEFfRElSLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlYWRKU09OKGZpbGUsIGZhbGxiYWNrKSB7XG4gIGF3YWl0IGVuc3VyZURpcigpO1xuICBjb25zdCBwID0gcGF0aC5qb2luKERBVEFfRElSLCBmaWxlKTtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZnMucmVhZEZpbGUocCwgJ3V0ZjgnKTtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShkYXRhKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd3JpdGVKU09OKGZpbGUsIGRhdGEpIHtcbiAgYXdhaXQgZW5zdXJlRGlyKCk7XG4gIGNvbnN0IHAgPSBwYXRoLmpvaW4oREFUQV9ESVIsIGZpbGUpO1xuICBhd2FpdCBmcy53cml0ZUZpbGUocCwgSlNPTi5zdHJpbmdpZnkoZGF0YSwgbnVsbCwgMiksICd1dGY4Jyk7XG59XG4iXSwibmFtZXMiOlsicHJvbWlzZXMiLCJmcyIsInBhdGgiLCJEQVRBX0RJUiIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZW5zdXJlRGlyIiwibWtkaXIiLCJyZWN1cnNpdmUiLCJyZWFkSlNPTiIsImZpbGUiLCJmYWxsYmFjayIsInAiLCJkYXRhIiwicmVhZEZpbGUiLCJKU09OIiwicGFyc2UiLCJlIiwid3JpdGVKU09OIiwid3JpdGVGaWxlIiwic3RyaW5naWZ5Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/store.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fanalytics%2Fvisit%2Froute&page=%2Fapi%2Fanalytics%2Fvisit%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fanalytics%2Fvisit%2Froute.js&appDir=%2Fworkspaces%2FNexoSur%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2Fworkspaces%2FNexoSur&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();